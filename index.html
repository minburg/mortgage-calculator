<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"773df57c1bcdcb5089eee13810d13dc98ed2437107258bc2e95cdbef7fa90f200367fb6f3085b5609d046a358be1e8c6524e7f63698306630aa8b94594ec7bf221d1e3df83bb3a93737a4dba206a72d532eb0d1ab642cbb14f5a2c99be6593862c07228ce4cdc9014d69dea25022721d997b80fe550ce3cf13331b85cd640c594c68fb43a2525f8fd6d63340406f9343fc918e52552c80b306ad6931eb2a0bec0b97e7fc1dacaa6b4695b7e0f66a9eed0289b8d469d4af1a6b9f0353716c3bea7bc947cb0f6f265302c27288e3975561db6860952a8e9e9cdcc5d222754732b0e562332fc6fed3b11a39f9ac505ee00d9b39641d170b5e14737d525e6db2fc527722a913d96298bc0bd1343247e1d593978a38426d4fa451158d70733d01f599536554105b612faa95eb9b07361526a9c9eddb893c5cfc9a9cd978b211b49b8b825149bc40cb0bca8fc29e98325e04458b61832ee44de7cd7d15f3d999d0f743140d03b9ccae545ebcecf815507f4ecc11150632691a157cd076ac8e3d4df4566892126370eb4ff44df82fc2cc539f642f3e8daca70de078628c3a365585b646bf2559f3e48263f08baa9c408a52245d95693e57b0d80cb5fe3d0fc3d5758ea795824bb01de401c4e2dc526d6c617534afd0e5a85046d8da5fc8ab4518e882ac7bbacf339dda18873799417cd32e6792248cc924fa08d865842766d91ded98b7a3d60f06f547edb99858931a9e785b5edae4b91e5c3600603b0184cf4b46f34cb77aa89e14f250ac0c4f4cf6504b7516accf2ca9a8d0b0b45c5559e4891cce2b3f42237fae226542471934bf30211c3393165f780354ed83b8745270bf5f0421a2e6ae814c651f577912c0b7d07294958fe2d720a2c363cdf6263825315489efa7ff9fa52e84bbca9b449c8c31b511710638ccefe12d486ef3ca3d7566678e2c430febf4aa4cbb55d6ddb2a0e1397ede8e32420620d5ee3d8980823ebb43237e154f7769eeee86fb2b43d120e0feb9f1634f4ccaab011d4846ffcc2336d9ae6e1361c7ee9bbbc3362e262730b147419b77fc01907d0588b570a62d1b46696ebcd5f92578a91be33fb5c1e23d216370dde02918b926d5ee0a0aae61f923d6a5fadcaa8c78721815f994883480c21513ac625bdd7c8894af47a8be09421b523cd0f7d2f172662475cd2bc451670c113c419d8a54f7465b6e54adabeb4629be5a26ea5dfa32fa7c2e29998f3c7b7afa8edebc5546ce6ec4b4a84c451adeaef3d6351881fcd34e87e3494e76635008b8365646c5f046134ea4062cc5a91ed433a53cb40827c4061e9e8f609b782f65862ec04e995ac5df4991d8fa47180b4cb68eccc94c5412138d3a491333364aa6b2fcfdd1c48d647fe223a6932b77d386a5dced81fbe4c628b3068ca1b80d015632c539cb22f4abc537b105e18b3adc3d486dccf15837ae9dba560cc63a5e65e450cda0fa585bbe9aa0fe1169ae5f25dd38452ff8628ca0a2583f4377c13bedc769a2bf115401527b0e3e061dd3413e0794e65b8714e6adc9c2106ee72bc8400576d18288cbb88bfdfebd4883dcbc8ecf611d98a98f50884f3de568a214ae3fc726229efb4a680aa6c938abd7f76ecdfcb2ba461b437c25401aeba681d6a4dbcf46e694635fc03e9d8bb0088bd9e76474292c7e7e8364170102ec5b3128c948e95d8172e090c7513f4bbcdea0d7c6a24ce57051f0f68efafcbaaeca1cf2032a13a6575972a7f6469df6ff62423bd169073718c04f34fe41d3ecc6648f64a70a4a716323730ea15a95a81ae12d4c28ecc55c7e625cc9954808dbe8c01e83929962c50da7323398edcaa66fd1f551db866055694a2440001c89d3f4e53e5cc521b08ad77e4ca3e0fb90ed337877ce9fbc195a39f985ebc3787c2d58f93b3d75db7f61022757a48d0061b1128c711e8f8eb0aba2fcecbefda5f4624fd3d78d64772d20bfff72d8a3abd69b1171bf0b225572a4d47fb04ce18a1e4d029f1babbe8f9ecbfb21c6acbff8028cc501ea7500b82a67cc3271be4657c31e79145929b26331ffdd0472859abf02deda4659a7b03ff2ed9e8673d15872ce866df299d4b1530ef17b2c02b6974be086bb999d61794ddb9c1eac57a5cdab80cf05990efa0b97a77f25ab08ed15db405455998a526c018a124aa33f17a8970bb97eb992eedc14134a5fe8ea0859192950e6cb78393fc811091c6ae6e0727a09c1670b87cea5cfb1a8ddb2fa75f465438ad474420ddfcc4d7868436db31fe7243a57c8d2ae7486187f7c8b944c2ec3b5ab3d3fbb5b5a1b9682588ebcea32c9585a2f3d365c6efafb6a303b5dd82284fe2b931c8e7e5870cc1e6c22baf53b9ac4f752b7ffa8bb4855748e3d78294aaa2f77861c424bccac8ec1644e0b121613373a3c0d442524edac6a6ed1d51bda74b9724496c0bdd328d31ec3ef419ee231b7f9368ab43fdc5d593abb368b129fbfb7af14a47ab94f33d26d678c31b78471cc80691977007ee35e411aff6b9789fdac767b67242f56cc93d35cf3c0824aebcba8bebb5c17068174ff814dbaed6008b17eea79f035c1f58e35dc4bee886711cc7af23d50639bf20cd33107047d6b125fcb809054c848993644c3a4644ddaa00ee6f4edaae54f36d4b227d182c2a3eeb5e6a99ed3e5236014fb30836858fd75450870f6f24762234e7005b5a434b96432c41d18be7f3094515fa97cc534692219472510eb3aba43078692a3532967da0794d5204f21136106d3829d93564a3563d2a7a90dc399d4deeaaa022d89c3ee81b49c55cfa3ea49ea684552c46926c723d5c700393a7cd35686ab652fe0323ec2bdba9ad4b872618ab6cf6501779b5c4f8fef546cbd46a29330445544af5587e23c83789c25138400a9a192f9f7267a586501b9805116b8fefd025d4b971f9ff63bed7adf096a53e9d4be4149c58b654384f85a9a3bd22f2161ceabee3ae65930833a007e9b5098108451889c593d6d00a14e92a1ae3a5b30afed284c6b873b8bfd2459c01b8a7eee9f6ef926ddd4699a2d7d9f55be92167043de44a9e305a666dc12b05ef9c2de1416c87e459be01c0ce2c2780e8647521e36398b8844a51ca2e95387b49f223c9e97ac98ef01e1889b12bd6110e58e1c548c52bdb344ccea8983af2579bc8439f5521478344397d4ffdc98b30494fe521a77d0173acc900242fbaf5be7965f01fd7919b76ea3ff21181fa875890048e63c92d9570b066f397a42a434788879f04765db8da58f5bb1b021d3c7526e84eb3b4834bd04c463449f68d0bd4596283f0fd875d6d462ad689365e2881424720a995f73a04128b8beafd1aaa7c103d4700031f17d3eb3b23e4dc4ecd73f52fc2d8afc93a71df12fc74266e95f4c4d62608655b7c4706acb7fbc8e1bddd8810087d64ce8654a5cad048d14c29bbd693aff08e29b021121c0ff2d94a9b0951207f50d33f923088934873d053940e1d94aa116b1f1ade9e83b44abf1752e0a66f5bdb469883d2580819ca154700fec6ff553a97a378bcaf15cafd32ffb9801217d4557020847ab7ade8d4d59c7023450a3bc7e5cc516bfc81261d96acb6f2d7e016ee932d9019f32dfd0ef176b2f1deafa9bb67e57a6933ec102d8086f74c5f0e1ef830ba1003b2b047b971aeb4b37988d6990351fd77b37dae35ffbfb4fa72d235e84e78e6bc71e184c956f37e0c121558cb08a52e7c2788b33a45abe9d14caa5d893e2b7c3c298c336b01d199b3d638b978bc630f9afea4b1c2f5b63be4d6f8811868c5dfc81f94f8566822ba22868209f2a1b3013c160cd9bd45cd396c5d8de2ae3b7648260b836e0aa3f91898aa373b8e58679d01ec878d0f1bfe312e5980ca425dc0a9c7d12b9fd07cff05edd3105bef705d70f130b13996f2d50a797080536b6604d39b97683dd44e40ebe77d2a9ccdc6e334631a5879af336e88c81b70275d4cf64d260224fee7fa11e343054f01f4a4f33317cdc54586cb6720c015b7bfc716deaa3f6f75157ff38aa52ca69864b1f94336cce48e64fa110a18b511a0e2eaa283355f0a5fdc6ccbe7679e08d069d5496986223729b8ebd94a006edf6beeca81ccd829db32178173d84d621b4ef7d49bb2dbd09274dd7a82c6c9af048ce52bf4cccd4e34b1075264ccf7b7f57c55018bdda03c8c16cb11a6b6ffdd77a8ee8a08e7c5fceb66bb5d7cdd850a81ae29eaadc4dee6d1d38a3b3e353fe26ca392dc3474b3f8b16073043535c171354c4cae786716d151d2013ea875e8a4ecb39865f64053eb6ab95704c1a475c6ee9f0f86584f26c012a5b1ba442daf391ba41898cbe789cefb0bd8346d9e2a45d9246e795b9bac4843e37bd1dfd0f368a0c5ca5b4e5fc2768b3c52fb0f283993ff2fad1eb026143491cd8cb074926813f131684289e3caebf1df954071ae6b18360da2e117bdf7c58eb55833eefa40dc8d95b07c8a0c4a43637fbe57ea0df839989a641330f5b200b0d91ee9332c3f36b031523ca46faeb59fa172762cad756ff013fb2da07f8a80e06f22c9f6731a13db608a4d7a9ef72aa76a57e9ff0fc92e900ef9bab72787c01b00b970a00f954ea205969d9f6e19c198308539217e586124d9941294aee923763105ff540b71f079aa3f320ff0bd727f2b95476529c37293bf995fa7072058aacb984989b8440d054e7030b5d0a2f35c1da976d4b65dd89d595f902ef7950edec298129058aa1e81411b1e4eb08a1b0f6535bcd0874a5a56c27d34f665cbe66ecaa92509b501e3ae26a22b66954672483220968c6f58f3eb38d59d102e2fdd861eb414885aebb4c5cfd5282712d0c63ea8dc2678eebc85425e8751fefa6afdfcc545dc983fddfb57a159e2a00d8e597cb5d7c50200495f931d6e85bd06304fbdaecf7339fc351e55478a18c80fdb331583eb3540067fdac6a9770a9978b850e3872b5c48cfbc5fcb8ed2a025d9f806f860774009b1e42e06e16a039c02529f008cd9c5948851cbd791f002a12202b43db10a2702ac117d999ccba8ef927e0504489e67042a9256cdc8eba800ced4eaf07894f3fdccc29bbf631b9cd9dc7032af7cbd5fa26fa9bb1dfbee545c4df63cfc7cf9571be2554de9d1907af0e84c9b0bec9807f3ec4e1692b27145b2eeda9e30e6248ea24aeb2564dcff2f41db48c3a6e6d627c58b0a71ee61d8d3c3ff4258efbf1da8ab9c269d9f8a39eb5357b1d87c2f3feb0003f4812e58d98e05a92685b39340724ca7d89a462a8b7d6c738a7e6025122892f4338cbb2b41bd1369ec76bef4d1177b01bebac50fd19891ddf8d057e7d3bd6f5bc69f5e242b20d20485b7ae46a770ded484e0cc5610b79eec021a4d261078a7d9a88258071c819d3d86387884c649a8bda29498e9638f77756f3d68b6e2215449d7adc9feda8e90db8a8b60ba7aef2e8bbb9edd03bd15ca1d94266e39ea4c4115d81f8126b6c394fc0faef532a86a4fda54b964e3e275d8a1e90d45e8d45a97e8129380fbcb0b456f862ab4974225c672ce08a94449c9989969598440531e135f2af382eb5264388de706112c8212e6528cd5e748a077de6d32f202322b7f2e131e0e3ebdb0908b07341bcec314b0114297fcc4f1887a4fcd6ecd035491d492e47fac3724b79e80b52959e0876b597fd9e38d491b81bc77d4c0de67e95fc64d747dfb49a2be1b326a7df6a87d38393dadb67dbd521e03fea6d0b79782be1f6fe4def18b7bc65e9e3e73a50110356ceb5e9b20c3a68eb537db513b2ea2080b8561e69e469d85b0b524d2aac371c07c782ca2f4304a2a53f18085b6f1fecf8c2a2ba27e6963cb5b8eb01993adebeb5c7ac9b617839502885af88caa93f8c9a019aeb10ba8c01fd797210a6569e5817cf6319e8fd297e9eff0d4b42b1884709f920c03c25393c72953f23daacb9c5509a49aabb5429d2448dde246045c59a9c0b6a24bc7f29df104c5d7abee2aa557e2ee39b14a3e23dc4ba4ac19a670a5e54d5e696499ce27bf1e08774aba936370e22be1233b45f01ad46892eacb1d6ba388da2598e53a49e75d4ddcd66ea3f6f54717327395205c5d587f071f89e5ce43aca0d838d440105cc3cad1e47f6abbf2556176a3b619c8a3c6824c5b86d4241f212ffd0a5b8ad6bb22ea0e283fe80c083b252f07d52cd717e0e8abd6803dc634416854bb28dd65dd57a2353d67c067ba7094f2ee5cb647b47aaeb3e4507816612981e8de950b51abf5271a726c4a34931ec4aad2e165ab296444b423cd41ae529d11a0100e7759dfafcc2b7ee63212d284ce5ee974e37e8b543fff35a357db5b2553f86d7caa470657b46370635690aca64e670eb96694e911fd134e904fe70f0cdfd95f5ce2b417e19bed472d0bd1767686e0502064d37b3f74858798893521cb284f037eafa8f9e570ea9b4ecdffe83f15147e08e410e84d45510e6bbd6a7725c0524e9602d2f2c1333441071fda35aeace8928e37169b46d45da858383f76aeab664880ac537a5ca59af55c96a576a7900abe93c8ad367124fd7df2f938db6e7390f70601d063eb4a951165c73f19994c18bed2d91019946f697449ad8c8a978e83d01e252c83ad9483e32b70fec325351876267588015630819b5e96792583453cba3f892e6f25cc6685ae2c8a25d6f63e6d9de91c64ba892c3935bab589a580bd825c997e1137585adfc7680d116d56ba4622167983c35f8e64cd65dc1e43df8285a9567b4363a0d512973cf94e2f9c80e8b8690ecc916c0225f2d184fdb54342a912d0085717d6d35b1f68b5254d06a963c045453011a2f308a2cf67347d9b0d0c8618534f8b0d243ea5823a4acb44dbb4105409f60e38d9ca4eeb70745b89bf514215c1b89368195488422c546377c928951b254c89a59b3e242d170ad38afb2cdd1cf676c0d219a3313d23e4f2ae159cb88a8b482094c4eeaa3e17a94e922d957ae4e7198fdb8c9e3160d20bd7f56e89b161df096aaaf1fa95ec1f05d9d98400a8ac8e3e7e48ea130a42ef87e2b2556e7e28aaef7052e73b59c58a4faa916ac77a7025a063d9f0f703f7820b56e1a3d0364fe5bbc56380a9d5d22515b9a35ea0a63a750b9b17feeef28d63113a9825a146e1d3de5544eddc234fad554f493a6da84bfc1a0aae1320bfdf0615104d84e2657d38dcc82e9c7e3dc19ae1e600f29630f1ea216c8c016027001da49453e2d16b455d3a2c671efd0ba48e02c0a3ca95369b477840a8346b5cb388f1f574b59cfad886cfff96719ade516077663e02641f188e491dac00643a059fc3391cb988304e7456e50c3f9ad1e4faef4c03bae14ff90888e711ef9a007a7d5112bcefd914dbd79209bac250f9a078510ccbd102ced8b0e966e664e149ada1b66c52e577b27b7b38d89503e075974da0f9e59173378f1290194bcad7bc1aa48ca0c47313e75010134518af0842eabf5a2146b9ce7dd950480477252dd8b84cd8ceb11fa707e18849684d909486376ff01ff513571197190fe51fcf9b4df740675d69d6dd2f3655842d6946a26f73810a12c308819529b0a09a08327ab12a408a743853f48eb00d30da12dc238c13b75d7753ca5098526af7241f45595bc27c79edba9002bc89ff480eb30678e3716e8b2000cfee4779d82461a4d37b9a991a1db720231ca623b32435fb79571633f37b9c73b94ea8b8af883d8621fa481239cb9782fda23252756a0f116d426ad280be8dafc1d42971a321d480685e3878e8b3abe2b3281a52fe534e7c66f1c0bc35bdf71fcbaf8c740756cdf8b646a3f969a53c0277dd169ef2bc8ac0094af0355afd5f879c551a813c70d79215ff370c462b40be3b2d42bab836c2625448ce7838ad90542d1e0d205a8c17f6a0a0c133a020fddb726e36db9a29298dd576593acd3fdcfb697b69b4773015337d794f65fcaf69cad8c920df895b55f8f985fa4bc88de2303fb40ffdfb4ef77406e7dfb97f895832aaaf90dd4e64853dde4e4d8d05be75ed6d398a7f37c476838fe042b98289a5ef7ee091b15a3e3953cf8a01c64cc5d0cd06e27fde17d979f7915ca32ca540c58283da318a7e3bf8954a5c80db0c47d0b5346976ee963fca48b356c59934b53550d5452a2da658b56bd84bb6d79e91bf898bf4578755064a56a2e98d557db82da862c935844ff0e67cbb8d6171cb6a71d241ff9d85df96fbb73d6240e28eaa2ac70693595fe385192b14a9b1789dfc641e358cc5b9ccfcca0fed66380eb519cc0b980c860b848db1ba9f303b52c5f7aa1b2d01263707c30e8d789af7d37d133bc15f20bbe23e7a28021c5608ccdea241ba946e4d0b38783bc5eba9dc229b7c26093e21f931ae7f07cf38c626681f98803c65b9d7cbb01c3c12f4a9f10705ae32f64fa2a8743c2e0b4fef6a9ed58b97aeade1458ac1ee0c11874754f46c9209791439288b99a1c0432097b9f383956b0aae1f30684b22a125427a141422af3b6705679a692de383486b29531a6ec7c3f374b0090f0957742396549ebbc60ffdcfbb4f1da47f554429f517689414f84d1fc5c2fb1b6bc366d42b93642426615d53cde49231119d055265b3795758d5bd6512e36e717125edc19191571c28182e1bd0961b23f1427dd1dfc73b62d6956e6ad3d1095cb3f6b500775086f8a709a0b9ffb9c30e9feeb4a93f843b25ae18da538e979ed62734777afdb7a7036402d0d27b1aba589a47c9f3c033f4c4d5d5e84e1d7d16f621ea9d08d315e77ffd5d35b37bf41ee70684bc29e56d694aa9f7e16a1a4bf16eee98e4c69fa36d2f9982e500685454518cc3b8463bffc2b771404100f0a0393900ea395202f50742e92a115429e56025a9e8e625e66bd0d6390f7121182e7713cf709fcb128f679b3f76bad7e220038a2188a20524048fa100c3eed990b2554f7037fa47703113713cff404d4ea9cca585af83874472951c3aeeb15b3d04f809423a7203db8500efe000cc8aba2229afa5f974b794a611ff1944ee2f3cff2a7edd9a00c0dc78f88d6ddf037688818ed06a55bc3901b857b20384f424e05f8ccb66faf1d23ad50f1bca394115704288c74493c44d7d2dd32e1ab690a06380b49962c9f05dcacbaf5cee76e5fe2f467b3eab59185bcdceb8fd3f986b52fbb445c39668e61de9c6042af1fcad40ae08d4f7872336f9941fa684aca6d0c476379efaa4a26f59642438da0a13a78b45ee4fb35eb6aed3c14cece0df5c022d0bf5c1401623061dce1cb877e4c1b5cca434c461287da07a3bd93e9faba931deb65b82b71a36cedc9b389feaaf0320478ad4f4e7a325ed498f15d108e7a72126e93d9f6c1e801ec1e7ca87982b6f62e148a9bc6b1b76c0f11c8828875d593cd672e9dfcbc6d43e1153c5c448a462464c671b21f5f960d1aa5d02e5baa49cec05bf0de1ec910238b05fb8f1b708e73f25986d8f26b46aa572e4dc8b15f5cda426b826f15b3cdd93c8ee5ce46584f2051162a61c0ecd1063b24d621dab0d8797a547cbe1e000b6380460929173138f6dd4c2a03a9984ef854173a28e68e9e915e0c505824e37b780e418cf7f9b5e5d2ba6e010b6e44fdea2d29410d5ef317461eec43108ff9f403b1a0975a4a01e8375d6bd0ad5d9f3e62bad53967b2127d3442f2bdd4f073222812c581a1862ca6374277fba6b84a0fb5b1e83dd762ff2a004d69ee5f9f7123a2ca8ef3b33225d4581b6865f2d7258bda7b3b034effd1d8a050fae77c308814816bbb7596a60f83c3218a2a798bba6e155ad88a4ffdc83591e275ceb8c27ba9627bb06ca88d5f1e59bc8a51ca58897f5b573dd94592f4992d83cd9b3d8394c1c36e55f71f91e056960b3c3992c78ddf1a0c38e9f6609ae0c3b41c1026474903a352145b2d6842b51ceea73be06c83173b288030e4705bfcf4676040f6ed59adf01dd318464b2cc00b9dcd493d0b98e5d855aaf0168b190580a629c2eec7be50d948029ac52db5c96dc28757fe07eb565c5cc77304b2e01e9426e89bb2fca228e74b1d796d27ed85b7f7a25aec440adcaa76f044f974312358c5388054f266bce9c1beb5c57ce3f812581623a94543e0d6f00704aa4d2505f0abfd24fa0b468702a052f34f81d0f0f3455a1f65350aa2e08bdf9606cb7589153980c23c3926da6eb47e8295b16e411b2907e49a74567beddde5394b3132334d2077249da1c3484260ae3aa1b5c1071945f1734cd108127dac0748a16bd98309928f52eaef7fd7c62f1f015cf7d83ad35082e1a939e60a92c8fbd2d79f1f5f4856993c2d2232f116b12a0ff3e38cb90281654654c01293158ac96faa8113c6275feea652e642d2cf4f44f2a3d9e89230410fc66e6692e253aed3168a31b006e93bb5db7a3da0ab36861151cfb1b96bab1a736d656fa20477202233c1cf7ba352e76d398d913626a06605d5b3944d1174b849592dff02c7c5d94f4b140c3c3cb947205ad5eb147f0a06fbb777d4e48d4c0b61de1c26666bce86cac8930c23d100265baf391ff9b26ba41c4362deaaa6405377eb53bc5484d46f82e01cecf5973c10c2d817b88fc994ad27b6646bebdbbf9c5923779b23cdb2b358dd20923020ee4ace6711f6cd9135e870611f39a4a6af4a7b5796eb7bf9375b815a1cf4bcb4903a793dddd59e927f5f6beaba57666bf77d01e1bbfa2eb408e351df2464ebf3d260bfdd54f583ee33a0a5d8c1736dc0d101e227557c667ca144574bc135f57588b3470fe7891068f98eb174d0b38ff027898b804b7b0bef489aa2e5617da9a9500bf76d1a94d676913c5990e8c1f596055dbac168a4b64db5d438e67325f19425d54c3b92bf72bb4b82d7c3e4f2e21b1d9a0e6667447e2917de764a35b7907db0677d98ba590fd65b79aef335ab2816965f5d9f0c13434eaadf6f9477b9fb0a71e570ba2c9baeda1c39731eb8bc6014e2142afdf5c05f4161219016f11beebea23d69dd68f459ad485d6d838933e4005610e53c3da5760b2c536377bec600a63d141fdb018a5e0c606db9c5d1aaa34b68856b24d5cbbd6f4122b19e2ea35082045d732473529eac2024ddcb19a1b12146aa30e558d8e50fb94b6aecdefa5e940b44c6e898d1730bfd5a4f16034521c127be7b241042619987730c5cc90a4ab23936d904cc28e9bf15f53f4cf006b038e2e364d744386dc4ac829b0d080feac98e903329583d2ec37cab443b17c5b14ca0fc6a5bd7290c27949138d20f3bc1fd28a0582d3e5177ce5875bf14ed250803b8999f6931c6ef39a71fd3f6ead2755065c9ed72c48830931c2836fec4d5712c797d2cdfa4741daf20e633c8ec204735ce1536b4a38343a37855ff2004de1d09c32a342fb4d83f8445fadc099f502957054b9156def5d7feae6476dd37c1d8b80c60e888cd6012072bc54549beaa9bbdd41fbc4c4365096f01ef69148640d42b8b4e9a4d58c951f0ee8dd2676632d8cdca93bc42ddceac5ad23a83e0b9d5dad335256c09fa208ff2dd51061913e2cab62de2b900729b4f05f92def120c0ebdffa9874a18b5db26d83c3daf9ae943a2f3076d48d0a4d0a24fdc3f479383442f858b184bd34f5f0a8bc7b0f06a67c5806004f7a22593b3c1e9e06b9855235c7093cf91b395d7f8922915af0d233d7043f4d377935d806247fc3df02c44784ce95e14aa2f35791edd8cf5bd47cf9cfc2af9c74e3dee8806f6c18613d53d4eda4772f79da4db85e864e752683ee5c308e52217efc556bd11e09510210e378517d1bd84e3459efb14e136e8f54c7a7e064194bc24670eac253db713bad7f02d95be17bee4fd356d5131d517e03b7861af8825b7f3b26f78ecb07cc057d192466d75080ab64e2af56ef740b6ee3f75152cf61d2801ec09ac19af27de6d0ce9fcb0e8d15cfc6835c718310955e4a220af034800046f849d80708729da7d0544fbecfed5bb04ab017470f74d869494f4fdbbc7a9d402136e75472039bc898e73dd56706777fe076dbbab5d0c85fbb12b1880a81a1c9b16c1592e3a299110ea4ee03cd8651df4f275da1d4352d71d21723689956ea8cd2e306777a6ce439c3e529376e51e45b74d69fb80184f974bdde16435487ccbf485c66baef0d088095aa3a985b5dd48b18f1f939bcdb05e3df168bdeab79ed7a97c0dfe9555608280f715dd8da95564a6010014ac983cc4b350f7c0727cc93159fecaff45a21778a25f1e1c89085e41de6831833b958502b6134f44866f839d92e6bab35de67eeeefe98fb9942ba8a3935bab0bf699ffcecaab840f49a0d961eca96208d66c521540a79f1f6044f78c9da56b8e55569a7b76d307450803e6ff2b19a5b1539d959b9a7a2e02a1826248ce90d64221ad2f2538107626027ecb6c94fc40418c66cfba33d0a5ab900279eacf95061e8bc3f41685f1ecb4bc97fc9c48aab7dfdf0bf5f4a1d02cea4baea56d7625e9a0a3cdd34cab48bdc231b2324c8cb6014fcc5248b79345ae6f1b8275b15672e244ce24bd139ef28885cceca18df8f3c3f6013a262911deac740c0e38d6a460d5670effc0604402f502437b64798dc99ed8501cf795a66227fea3a693fd2abef3e0dc9fc04af87a0e6fc59420161aa1895315f3fc72036e2d5101d2f9f994a23049be5bd8461ac1d0252d961245ba953f3911d436f6ec88082228ade33687f8944286ecc5330e96705fd4ba9813eabd12eaedd012fefb45e790d4f99827efe121ac581e249f4d16637a8c8c846282deab7b01865ee52e201bdf7f20a1c6cd66effef08c062d4cb8a78274fe8527439d7af3d7800be6b233088a7d6e08125a5004e9a4e11669592b618340abf6d222263dc93fe0ac63b68183d34b51b581e24820e477e2c74e2b612fa06222b3dd488b73382364ef73d242895a044d5b8145bdfabdbc09e66e2f6a7fae94b61c07d538f014c52b307a1b9a2f99ecffbe6215b4b8ded2fd9884b2956e8959ec54ab17684af6415bd4e75df6ef28648258b7da4c25a6cc9ebce831aeea90bc442d6dc92d29df2ceaaa2351b642b5ec4ab7e2a81b6b460c1cbbcd4c5fbb53a82c80084a56c924a986194c14fa6bb8197c6930385680f467b83fe3458b27807c4ef2495e86fe0d6ee09af6bda0760013bd570c19da1218b826747030bca92cac4d395ed0cf22996e2c09dc7dd084e308e410db92540fe03df76657c1cb4fcc08a8231359a3c579a6c994a38532c8ab1ec7999c04c743b619d1ae14be576cfa02423939cd814b5176d0362b30b126e69fd5cbaa917f68f07492396bd49e35c7bc927af996fddbe86254817cb7aded20ceb42ba872dfc8ef41e7110136b6bfcef062965d8fa57fe61cc9d7e0f81ba537ab905e07c69e0f2b66788e3c794be955a6088b3f5a52e6c6bd1c5a65decff15e760d24d80a9aee7ba532524b017e83c8f6800ebdd8b36d30f2e1b59d066ff224d4652cc02512670a8a7a67954b432e18c9cfcdebbc07e65aa95a222c27b045f93576d361b127c04b2c475928ad77dfe2801e1ecb81ba192f5692de9b6cb5920ec26ca5d30bf78add404c2013657defae7527c48f6fb749518598804c9c1806b1cfbb0b7be3db0be56b1cee27b6da746919ac73f8d0c95e107957f39f607fca327074f5be5a9735192869ed2ff4266b8611685e72e9cefff9c6c243c16a9eeea11bbf432236b86f9c8dda4efa0ed287a8707a66b3a9a5b71ecf02afa35019dd6f9a7511ad4059f420e565b853ebacac92455317be7ca73fbe9c385c047339e26fed102bd4f7fda3326da55f241feb3d0203d5367f233d51e1ceede9902041cd97d797ec6f2fe71370f4e73bc64334613b69a0276cde7637284977e901838984cf3162a1a06ede22c70c78980eb3e159a65853e7f468e42e29e0fc3e9045f23fe3d5b99aab30e283751c0f01690b45ec10989e0843fc37789079552db2b1dac0c463d211117e134ce408bbb7fc1a31200c952ec2c68acaced5e8cac725f1fb40bce83eaf8a8eff6289131effdd75a0eff9dac80579f908c74534d0ad74e5e7a31ea444b023ee51516a9d1171261b127d8846a2224087d7e489d044f7f93b4a97d7b803df874b6a20b7092b85002e59a4b11205ccbf3b91ea326a4862076608698e4559aa050d745507e47829782920c92734ac144045633ac8a786071672dbbe6cd06e584ebebf667dfbeadaaa3d8cce0dd050fd47d9ad34f24c398c93f401695fa60277055b773ad09bb9a94cf5532b36eed14dd36557f10438295dd1d68a72b651b48a1a71d647d4e7e1abb0de801610985738b77aad22e1d6bfd9228d8d85bda705bbe11a06e4db1b24008e3665907347bd6ac2ec2d3d980393f169d97f7328133280fe8acc3266e2841a63cf744f4848ec7140dbeaeb20a7d3dd0ae28b8e67827e9e07471eb41c2574047a07a04a68646d5de7a3f9b2759232cea9d5922b308ff74569481ed0ca76f0095a952d28f9e9a1561adaad4e7a2eb689efa1ef27375f948fa0f17a406cc75dc04996a24b0da3308d086c11d67a6e098d6094cddfa7ae3935100d47f2354e69b9187b2212c76b135a6a260b1c332cf94c597498ba8607475bda67c9e1b98572326d30f45e91dbe3984d32e6da484722fae9a48534841654928feb95df17187aec4af211de75033230f448aaab439732f3c4729094c34f54ca2d1cefaa5458320ebc5aba5550a184ecf7c2391c0df898cfce0e098c1274b80896c8c89b5335571638fe8f0bdca985d4ebd92222d57f3b5f66205e29759af47c9443e0d923994b9875259b1fb8096aba98f8fcfc5e8e8d46821146dc81fe0b478cbea0d544fa05b5e53cc8b0198ab7fd9a006ceca124c15845b8917bddd552521351936c0c63db111412fe0c314bef257a3357b51a803c1866c0514c4c137bfbd4ab7ec76601c057a2ae99c7690bc574fe8c2eae1c1967cd0e1b042e242d05c52431bf830e8fb86ee7a80cda3e40e00d3524e80d7f39fe9337dc07526babf133e4d49548b75bc16c86198931bafc01977e02037f50f37887097e73c09212c55ffefcc9b0c447d522f3ca61043c55b8bb06225de26f5b2fc8252d9d5c9852322cfdb88ce930fea66ba548be89771adcd0dbbf1d232b48fbac722714c26114fd0b302e7a6c5b08b51a334773db07c373661659d6b5b940fc1015b1bfb6f232667b0885310381963d048cd2fd5ddd6065f0d5d693f397f7a1221947c50a8b381f504d1e6f91aa7199bd197629a22aa323c02c3015a796557bf13994082e0248527915d43b451c02d326bb768da3cc17ce3af9ca71ef3f754a28639d84bb64a04c5f883ddf021d033e11fdbd6effc14c65020fd6b3f4b5d08748d93ca9ef24908f36e9f26f09d8e9a3a48aa20dd9a566b86e1caeb10e08d017fe9bece8c55e1e09aa8d82a00a31525b13bdfd154004c86ffbe87916cbb851f8a3551a4d45bb55eb9606af3df94d2357cb10a5c14f4334ba1633aec76194e902a41adf90508d19b348f945820fc39740458e5b29e58aaa17da08de9e3cd6c24b572bd64870a26ea4675830a10ff9065ca4930c90b5bb8862c86cf97ce4a7b24f8175cf29fb0bb3763ca9a3d4898377bc35aac9760627d475c68bcd7acb9b7084b07d76fb631a4de96c70e2f889d729c7d7dae124174eeb653236443917ae7fd0777da3c5a231d7312970025a3d585db387b72e03bd3945f93f28028bfad5ab25986d3b8b16fd3751b98139c4cab4b49c3ae0527e6a3f79715e4bbcbe33f2a5a0b89b97337f7a68c22b35a44d1ef3e6a89d420da0a2070e10005fb3c2b9579bd8882397f190466b218365fd8ed1fe376b6617412fe8669234680f6af77bb8785d6e3b298a48664585798ee0a05203c874afc8b1eae5cd7610391a93f53003862cbb4b4ee472d6a610121b7308878022dfe072503c38dbbf37e0fd9f14561b07c4882cf04461b17aa5148f40f7bad39c2b27c0d9d05508f3d727cdbd72e371db60d9fe3fe4995b5c8c7fbecbaaa5714f8515da0fc250891efb73c9d699e2ddc0529e70363837b51370609fe01fab0e3e50e6191cada64a8a082367006ab15ac183f7c71880f0a2dfc99bfae9b3970000045d74e7a518aa032cf588c64fdb4fb86e3b8b276f2e87b0a74ae0b9f5758a359526a96701cd611024e0a2674612fbc22a9210a4a625b0ee130262241e087d9fa34825765f989db297e81a04b52957bc081b599f39bdd209d5c130726cee0755b2e8d15d664d33ab656f086054d8ba382dc4565e2d3f1524e5272138dc9b4bb7215c6879cea3975591aeb82657d57290b782f87e3b6079569c54f6af06e98f024b3bbdc357d88563ef91fff82fb56685ef530afc7e1e324d597328eabd417cdaaaea8a2fcf8fd025ca693beb0b09ded5cdfe0ee8a4474b522dd9843c3f096b74163de4cb677eae97c61074020f325026d38e06f7611534fd392b60a9cf732f7773144b7bd49de734e0709fddb4817e5ffd27a530a8037110f454854e47281d593fb34da1ee548999a1af237870a36db028aeae15d86ac06a10a9584985640f9ca83bb644fbc3ab1ed37b2f6aee242a714040ed1321c3d66259f93340996688c69999b9a86040bba1ceb804660a28e9090c298241c384162f0a49f709676ce5b0cd3f7c2fee448bbd96146867972d963fc6e75c1d21c6b46f165d4a4da622279830d7582515bed8a716388acae6bd97bea0a1760fd4aa7d2c40b727e5a28b26a2e5c5bfbc1ba76ae5c13891c4273c2338d356a28d18451d1c4e83db130866ff983742bdbddfe7408984fba5cda864b3d4b0b7262e6e439a193a1c2bfc4b3c50f547a9c954c7fc429908091a3a41d7e7f6856f0760c45318972f5351e1f4ec267fd9d42012b4daf3054851db8bb29e529d1937f84e4a19516d638fa1612ffa2399e8cfb82e6f916e7a8e3c9f86ffb52f7de413f4e627a4614ea7d32ca09ca09b602b96343c4e0636a5109332f1e4ac990ebf1cd72a2d2a57d8054a3951d1e600df7daf3bac1573ed33fd15426b7154e2b60871f6ff8c4b9e143b52d23e4643f0bb14f9c603d29b2caa0c8e0b1c39f77484897c89ff00a7b6bb1b0e17c67b1868b6fdcd17ea4ef74c9d2098e6b7b53cfe6c13af4c5c5e29210d1c36e62f446de4daf0a921ad77f3a673880c2fd17abeb88c2bb8f91b92ae068cbcdf4428f1cbb763fa0e8b5bf2048c58d7c186dd67700153a160708d3318d33252f453fec96aaca70de9f7906d76ba69dd4cde24b9564d3dcaec94e122c828bd94583db2485523f285dc4731ab17509774e51d4431d4f1904627ecfd3322c9140982c597ad7c0e279191539913591d303482a550e8f90e472d0c3cefe64f271658155a0b8f20e4d0da2394fb6c0e09d8b4dba6279ff13b555e069e3e685169cacfa088b3e0a34391c91b8469e99e6b2d496a3ea3c3d28d60be0d169d140cf2ad97d601c069f01d614c3cce32fcb59746b675d0ae10ea744556fcf157041dd4f8ec62fbabeb6e013ab6cfd5f9579b864957ddad57478d9153f4d0a23fee7ee516572dace417886d9c3e73df6814ad107f61bea976b1d0e18efd3e7bd19fc8bad876be4ae7f9461a18188599a667b90a02ec6b8c62cd27f3eb7df3bb2fcfe3c6aa009e2f9366a9ffa7c6df427b58235db457f3696f1a9776d9ce37940486025f48ee34c57d0027a4334463d2fef850ceee70fb526d18fed1df0ef51966dd6b214e97b551a7a6249d36d553e76c86187e3c6ff2c60c0fa0a6db6f331763c8732098b0938eeea320927c8e492f5f31be46e9fc7cd0190d71d2545990d49f83d3bcb7fcd8c4a96918e24f3ab3e0793f4a1611f037b48516a6a12f9774f0a8975db4d6abbfdfdc2702ba0e4307ae86e2f5872339986027e9910fd5a239faa4f7044b680149a9fd878d54433614305070fae12b5914bf270ac2d2139180b4aaf4dd8fa730ff4dc3f8590e60b0c34b02d7a27a0de92333b2500b8c8cc4a5d697aa87622d28cfe1fb7f4205344fd833ef5c454a8405b2b106ef943924e6bfc473165d469801c45a85b3ed9d02184f4af3ae3433020851a56950820a78155b26d35b45b91618cd96ade72dda1d57a0e8583253702539ed3effe92a240f7ab82b7db6809d5996ca065900740135dd749b0e477dca3c0cd137b8f6bb1e3e0482de7c51f3f2231d9cc3cfcdf0b002532a28adbd549c09ff062647f68a48411208f4ef609b7945d4ad48d6f20ccc536d84ef832e5758ce321208d2e39df8ac6f7b256e1b0ace6384c9b74ff12a069d19282724d85d142a2757bd004d3ebbe1345fee0302d9031098cf26b14faab65c7748602976fff240d94fc77c67b5f37b8832ca6d149cd74bdacf145d176c995987ce087245da776cd77f96901d2293ece2009a9cb7e083c8b080431d8ca29c0542ad4a28fb413377a7cb6116aa2cae744d5e251e1d066bd021bbc56d435f0fb02aa4450909fc586e98048e6ff5b62b98f16c3b3df1c8362b5bfcb69e518ccbb483e34dfb7df4e51e1405b017e99f191cb3b6814844e630d29772d38fd510aacd647e96318d19b7c85a8855a88281aaae368b68a7d3832125f503889389419c161585ffd8448b1cd129f113b5ca933e2459ab872b97ac5ae274da533a1b44468ec9aa6da2daa641f4c615bbd66c19f0e356896f12fb31683cea4ff9340cac61bd8398c61ac28c7e31539aeb9a8e23dff388462b535ceb2d091f33550b9ebde44f089838634d2f9590dcb45f187d294ec9a63c78b3fa8efd15c2c2e6a29f92caecb9245845d7c0207e035eba417814f385c59d8bb6dcf2f659ddc7e347afb1a95fa289c449c300c3732904a62df12c7748a3890a89129c7ffde3c8b9b67df08e9b4a4614990d6e4fc0a5c1dbf44ed94dd40ec7340b15b5dac8141e870bbe32b70c5835167de0d58934fe1c08384305a2f3307c1ae6d0fa19306f17c3524c4ea44161ad745686f4eab424bbd2ac8f07a0aec4abd46e9b77fadfffc9766af426d7af1b13489670bb6d9fe0b71c3a95b533d1b5a3c11a4da62fe9399efede3745c60a55807bcc05c2ac758c00835a62c150861271a74244cc953022958968699aa44dd87f7d0d18906452890e43c18f729bf0d9f26e54f20bd6fec4a8e73bcf316a5486b0b5c91493012f4e4f9f04bb1b6e579a9e3eb04cf4341f806f07a0bc16e744c39132e6711a43ef39bb5b045fa956b73b9df883b930aa2ff0d0b7d70ee558d7156de79c1393dd868b8e7ae6b36908edb63bd7a45c2d23952bd72f74ecd52d6bbfab56afb11c4417ae5a12c935dad3b245e4c024b41337089fbffa1881c91e9fc66a5bc5b4969b480d7e238eccef2e7a768c92f0c612db98dd3902376026d7507f0eddb4963308f975a16a0c95e18e57392cb45fbd3d5415cf5ab721a04f8b158d870c58e74596d26e04eef35e54328562bdd8cf643e55553cdcddab168f3eb1161e833d696035e1194efe30efb346d2cbd3143d07f34de8fb7512916b815234a843a33a83f48a077826caf603f09b111bd538d04da52c175d8bded88356451c65c6205c3eb7666949f18c7cf0a432319c20f8a6158437ca74a3aafba394124cf665bfe0f9c11aab5d2c1fd6c103be6f81ac19a2dc610e9cebe539b9b35e383cac516d5e54760b33bbe1b27eaf9105e862b204c42c017e24d7ffc34a3ce55ec31081d07570165b7141d10d12b8facf84d46521301b138b9a24ae4aeef2337adf8bedcaaff3ca7225b96597ab6415711db8ad51012653b6fdd8ea1e2c9177d7f0e4d4a81045a736ddcb14eb94a570b3bb790670b940981e91c2a14d893662f2bba5c3f95e4b537bbdacf7fcaf0fc715d6fdf8f7ebffb21727ce80689a69efcdb0cea2aee074d5f34bd621bca8849ca50b1b82f2f21d135a515d40274f646b1efc69ef9bd377121b8c69e30e68d8723421a2c3e95f91507ba9813ac6df544c5f1f8eb9462b40ecefe24f7d291fcb316143d882d705466a090a25f4d5438a476b700de943b8e3ea7c1e71f02b37bd3b80ea696f26263f04bc40c4f6e865d565b2269dbac47fc5d8be3f998c42a4023b0c480ff90a09f19d8a9c682b6fd06428c8c47a3e0d212d5fb5c1ccd56ca2612a3ba1295656bcfcb71f8d469071fac991c5c59b5b814ae169b48ce0cc6ef4a414bab443829497a3ee55970ea1323719f8892e140b6edee059263ee02628635c5a3d1afd2bde9d1031aae5582c1ede60f4dbf4ed60b70fb2fd0f8eacff4d9ef86451b21f8f78af4515567de8f68c3a61d490a5f715cdcf6b93d65a50764fd131e84a7ba60fd7c20041702fb466e0544c4f1862e997a947457c58faab43d680352d9d8a35fdee36b12e808d75c272c1a9a9ba46a568f47fac2b79be44a43365030476d9463f33ec36eed6ce44c76fa67d609512686ffe55395fdcf3f1b59460e1226d3129bbe9ce366f006fc70030acbd778471d5c9ab5f7c424a122d616051de4f79d7c2fc17372eed030440019e77cc197a75548262b8b06415d6d1568a9a42d9215cea5b1f971c81e4e7274926338b770b84abf097a36d7f489489ec9ad2d6475bf350d03d8124d43ab6671ed85631f10390508f4fe1582685efafa51e0af29bb8e6492c14614d8245ecc160fb906bed549f841d5ac540fa2c2ab0afd9695a3a7d7550595507b698ac374eb5a66b9d305de89b62dc812c681ec7efa3e6709ec5ed267fe9a2b284bab2a6eb7c63e2630a4debc9c8e6b1574a127a99e44645773a6d43abe3f6336b780b794c126c8526066e94ef2e528ee9d09da0eff5ca46764f3e9bbe94febd0cc028c8c9504d66fe433416ba80fd16eab64f714b9d88a19aefed38c9af36a8872e291bdc7d3ebcac0c2465f45014d7b1211d3d1c0811940b73348fd3a48bacf2289c1545b694b2517503b898d22b824850baf5","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"47bba3e7e64af897be380df56571ad43"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
